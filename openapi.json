{"openapi":"3.0.0","info":{"version":"1.0.0","title":"Google Drive API - File Upload Service","description":"API for uploading files to Google Drive with authentication"},"components":{"schemas":{},"parameters":{}},"paths":{"/":{"get":{"responses":{"200":{"description":"Service status","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/api/drive/upload":{"post":{"tags":["Drive API"],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"File to upload"},"folderId":{"type":"string","description":"Google Drive folder ID"},"overwrite":{"type":"string","enum":["true","false"],"description":"Whether to overwrite existing file with same name"}},"required":["file"]}}}},"responses":{"200":{"description":"File uploaded successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}},"required":["success"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"403":{"description":"Forbidden - folder access denied","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}}}},"/api/drive/auth-url":{"get":{"tags":["Drive API"],"responses":{"200":{"description":"Google OAuth authorization URL","content":{"application/json":{"schema":{"type":"object","properties":{"authUrl":{"type":"string"}},"required":["authUrl"]}}}},"400":{"description":"Missing configuration","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}}}},"/api/drive/callback":{"get":{"tags":["Authentication"],"parameters":[{"schema":{"type":"string","description":"Authorization code from Google OAuth"},"required":true,"description":"Authorization code from Google OAuth","name":"code","in":"query"},{"schema":{"type":"string","description":"OAuth scope"},"required":false,"description":"OAuth scope","name":"scope","in":"query"},{"schema":{"type":"string","description":"OAuth error if any"},"required":false,"description":"OAuth error if any","name":"error","in":"query"}],"responses":{"200":{"description":"OAuth callback processed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"refreshToken":{"type":"string"},"message":{"type":"string"},"accessToken":{"type":"string"}},"required":["success","message"]}}}},"400":{"description":"Bad request or OAuth error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}}}},"/api/drive/create-folder":{"post":{"tags":["Folder API"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Folder name"},"parentId":{"type":"string","description":"Parent folder ID (defaults to default folder)"}},"required":["name"]}}}},"responses":{"200":{"description":"Folder created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"folder":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"webViewLink":{"type":"string","nullable":true}},"required":["id","name","webViewLink"]}},"required":["success","folder"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}}}},"/api/drive/list-folders":{"get":{"tags":["Folder API"],"parameters":[{"schema":{"type":"string","description":"Parent folder ID (defaults to default folder)"},"required":false,"description":"Parent folder ID (defaults to default folder)","name":"parentId","in":"query"}],"responses":{"200":{"description":"Folders listed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"folders":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"webViewLink":{"type":"string","nullable":true},"createdTime":{"type":"string"}},"required":["id","name","webViewLink","createdTime"]}}},"required":["success","folders"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}}}},"/api/drive/delete-folder-contents":{"delete":{"tags":["Folder API"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"folderId":{"type":"string","description":"Folder ID to delete"}},"required":["folderId"]}}}},"responses":{"200":{"description":"Folder contents deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"}},"required":["success","message"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"403":{"description":"Forbidden - folder access denied","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}}}}}}
